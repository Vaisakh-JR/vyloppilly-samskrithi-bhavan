<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vyloppilly Samskrithi Bhavan - Cultural Complex</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Alpine.js for Interactivity -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Markdown Parser for AI responses if needed, though we use JSON here -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            red: '#800020', // Deep Crimson/Burgundy
                            gold: '#D4AF37', // Metallic Gold
                            dark: '#1a1a1a',
                            light: '#f9fafb',
                            blue: '#005b96' // New brand blue for header
                        }
                    },
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['"Poppins"', 'sans-serif'],
                    },
                    backgroundImage: {
                        'pattern': "url('https://www.transparenttextures.com/patterns/cubes.png')",
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #800020;
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #600018;
        }

        /* Hero Animation */
        .fade-in-up {
            animation: fadeInUp 1s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .delay-200 { animation-delay: 0.2s; }
        .delay-400 { animation-delay: 0.4s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Image Hover Zoom */
        .img-zoom-container {
            overflow: hidden;
        }
        .img-zoom {
            transition: transform 0.5s ease;
        }
        .group:hover .img-zoom {
            transform: scale(1.1);
        }

        /* Dropdown Transitions */
        .group:hover .group-hover\:visible {
            visibility: visible;
        }
        .group:hover .group-hover\:opacity-100 {
            opacity: 1;
        }
        
        /* Sub-menu styling for desktop */
        .submenu-item:hover > .submenu-content {
            display: block;
        }

        /* AI Loading Animation */
        .dot-flashing {
            position: relative;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #D4AF37;
            color: #D4AF37;
            animation: dot-flashing 1s infinite linear alternate;
            animation-delay: 0.5s;
        }
        .dot-flashing::before, .dot-flashing::after {
            content: "";
            display: inline-block;
            position: absolute;
            top: 0;
        }
        .dot-flashing::before {
            left: -15px;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #D4AF37;
            color: #D4AF37;
            animation: dot-flashing 1s infinite alternate;
            animation-delay: 0s;
        }
        .dot-flashing::after {
            left: 15px;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #D4AF37;
            color: #D4AF37;
            animation: dot-flashing 1s infinite alternate;
            animation-delay: 1s;
        }
        @keyframes dot-flashing {
            0% { background-color: #D4AF37; }
            50%, 100% { background-color: #eee; }
        }

        /* Modal Transition */
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="font-sans text-gray-700 antialiased bg-gray-50" x-data="{ bookingModalOpen: false, mobileMenuOpen: false, bookingVenue: 'Undecided', bookingType: 'Performing Arts' }">

    <!-- Top Bar (Logo Area - White Background) -->
    <!-- Removed <header> wrapper to fix sticky behavior -->
    <div class="bg-white text-gray-800 py-6 border-b border-gray-100 relative overflow-hidden">
        <!-- Subtle Texture for "Old Paper" feel if desired, kept clean white for now -->
        <div class="container mx-auto px-4 lg:px-6 flex flex-col md:flex-row justify-between items-center relative z-10">
            <!-- Logo Area -->
            <div class="items-center">
                    <img src="images/logo.png"  class="logo" alt=""/>  
			</div>

            <!-- Contact & Social Links -->
            <div class="flex flex-col items-end space-y-2 text-xs text-gray-600">
                <div class="flex space-x-4 items-center mb-2">
                    <span class="font-bold text-gray-400 uppercase tracking-widest text-[10px]">Contact Us</span>
                    <div class="flex space-x-3">
                        <a href="#" class="text-gray-400 hover:text-brand-red transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-brand-red transition"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-brand-red transition"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="flex space-x-4">
                    <span><i class="fas fa-phone-alt mr-2 text-brand-gold"></i>+91 471 2311842</span>
                    <span><i class="fas fa-envelope mr-2 text-brand-gold"></i>directormpcc@gmail.com</span>
                </div>
                <div class="mt-2">
                     <!-- Search Bar Placeholder -->
                     <div class="relative">
                        <input type="text" placeholder="Search..." class="bg-gray-100 border border-gray-200 rounded-full py-1 px-3 w-48 focus:outline-none focus:border-brand-red transition text-xs">
                        <i class="fas fa-search absolute right-3 top-1.5 text-gray-400 text-xs"></i>
                     </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Bar (Red & Smart Sticky) -->
    <nav x-data="{ 
            scrolled: false, 
            activeSub: null, 
            activeSubSub: null,
            lastScrollY: 0,
            showMenu: true
         }" 
         @scroll.window="
            const currentScrollY = window.pageYOffset;
            // Hide if scrolling down AND past the top bar (150px approx)
            if (currentScrollY > lastScrollY && currentScrollY > 150) {
                showMenu = false; // Scrolling down
            } else {
                showMenu = true; // Scrolling up
            }
            lastScrollY = currentScrollY;
            scrolled = currentScrollY > 50;
         "
         :class="showMenu ? 'translate-y-0' : '-translate-y-full'"
         class="sticky top-0 z-50 bg-brand-red shadow-xl transition-transform duration-300 border-t border-red-900 transform">
        <div class="container mx-auto px-4 lg:px-6">
            <div class="flex justify-between items-center">
                
                <!-- Desktop Menu -->
                <div class="hidden xl:flex items-center justify-center w-full space-x-1 text-sm font-medium text-white h-full py-3">
                    
                    <a href="#home" class="hover:text-brand-gold transition px-3 py-2">Home</a>

                    <!-- About Dropdown -->
                    <div class="relative group px-3 py-2">
                        <button class="flex items-center hover:text-brand-gold gap-1 transition">About <i class="fas fa-chevron-down text-[8px] opacity-70"></i></button>
                        <div class="absolute top-full left-0 w-56 bg-white shadow-xl rounded-b-lg border-t-4 border-brand-gold opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 text-gray-800">
                            <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red border-b border-gray-50">Aim</a>
                            <div class="relative group/sub submenu-item">
                                <a href="#" class="flex justify-between items-center px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Vision & Mission <i class="fas fa-chevron-right text-[8px]"></i></a>
                                <div class="submenu-content absolute top-0 left-full w-56 bg-white shadow-xl rounded-lg border-l-4 border-brand-red hidden ml-1">
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Project Digital Archiving</a>
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Cultural Museum</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <a href="#" class="hover:text-brand-gold transition px-3 py-2">Who is Who</a>
                    <a href="#" class="hover:text-brand-gold transition px-3 py-2">Administration</a>

                    <!-- Activities Dropdown -->
                    <div class="relative group px-3 py-2">
                        <button class="flex items-center hover:text-brand-gold gap-1 transition">Activities <i class="fas fa-chevron-down text-[8px] opacity-70"></i></button>
                        <div class="absolute top-full left-0 w-64 bg-white shadow-xl rounded-b-lg border-t-4 border-brand-gold opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 text-gray-800">
                            <div class="relative group/sub submenu-item">
                                <a href="#" class="flex justify-between items-center px-4 py-3 hover:bg-gray-50 hover:text-brand-red border-b border-gray-50">Monthly Programs <i class="fas fa-chevron-right text-[8px]"></i></a>
                                <div class="submenu-content absolute top-0 left-full w-64 bg-white shadow-xl rounded-lg border-l-4 border-brand-red hidden ml-1">
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Samskrithi Samskarikolsavam</a>
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Kavya Saayahnam</a>
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Kadhavela</a>
                                </div>
                            </div>
                            <div class="relative group/sub submenu-item">
                                <a href="#" class="flex justify-between items-center px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Yearly Programs <i class="fas fa-chevron-right text-[8px]"></i></a>
                                <div class="submenu-content absolute top-0 left-full w-64 bg-white shadow-xl rounded-lg border-l-4 border-brand-red hidden ml-1">
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Nadaka Kalari</a>
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Mambazhakkalam</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <a href="#" class="hover:text-brand-gold transition px-3 py-2">Library</a>
                    <a href="#" class="hover:text-brand-gold transition px-3 py-2">Gallery</a>
                    <a href="#" class="hover:text-brand-gold transition px-3 py-2">Applications</a>
                    <a href="#" class="hover:text-brand-gold transition px-3 py-2">Tenders</a>

                    <!-- Facilities Dropdown -->
                    <div class="relative group px-3 py-2">
                        <button class="flex items-center hover:text-brand-gold gap-1 transition">Facilities <i class="fas fa-chevron-down text-[8px] opacity-70"></i></button>
                        <div class="absolute top-full right-0 w-64 bg-white shadow-xl rounded-b-lg border-t-4 border-brand-gold opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 text-gray-800">
                             <div class="relative group/sub submenu-item">
                                <a href="#" class="flex justify-between items-center px-4 py-3 hover:bg-gray-50 hover:text-brand-red border-b border-gray-50">Structure of Complex <i class="fas fa-chevron-right text-[8px]"></i></a>
                                <div class="submenu-content absolute top-0 right-full w-64 bg-white shadow-xl rounded-lg border-l-4 border-brand-red hidden mr-1">
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Padippura</a>
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Koothambalam</a>
                                    <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Kalmandapam</a>
                                </div>
                            </div>
                            <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Rent of Venues</a>
                        </div>
                    </div>

                    <!-- Events Dropdown -->
                    <div class="relative group px-3 py-2">
                        <button class="flex items-center hover:text-brand-gold gap-1 transition">Events <i class="fas fa-chevron-down text-[8px] opacity-70"></i></button>
                        <div class="absolute top-full right-0 w-48 bg-white shadow-xl rounded-b-lg border-t-4 border-brand-gold opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 text-gray-800">
                            <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red border-b border-gray-50">Programmes</a>
                            <a href="#" class="block px-4 py-3 hover:bg-gray-50 hover:text-brand-red">Publications</a>
                        </div>
                    </div>

                    <a href="#" class="hover:text-brand-gold transition px-3 py-2">RTI</a>
                    <a href="#" class="hover:text-brand-gold transition px-3 py-2">Contact Us</a>

                </div>

                <!-- CTA & Mobile Menu Button -->
                <div class="flex items-center xl:absolute xl:right-6">
                    <!-- CTA - Book Venue Button -->
                    <button @click="bookingModalOpen = true; bookingVenue = 'Undecided'" class="hidden md:inline-block ml-4 px-5 py-2 bg-white text-brand-red rounded-full hover:bg-brand-gold hover:text-white transition shadow-md text-xs uppercase font-bold tracking-wider">
                        Book Venue
                    </button>

                    <!-- Mobile Menu Button -->
                    <button @click="mobileMenuOpen = !mobileMenuOpen" class="xl:hidden ml-4 text-2xl text-white focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" 
             @click.away="mobileMenuOpen = false"
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 -translate-y-2"
             x-transition:enter-end="opacity-100 translate-y-0"
             class="xl:hidden absolute top-full left-0 w-full bg-white shadow-xl border-t border-gray-100 h-[80vh] overflow-y-auto">
            <div class="flex flex-col p-4 font-medium text-sm text-gray-700">
                
                <a href="#home" class="py-3 border-b border-gray-100">Home</a>

                <!-- Mobile About -->
                <div class="border-b border-gray-100">
                    <button @click="activeSub === 'about' ? activeSub = null : activeSub = 'about'" class="w-full flex justify-between items-center py-3">
                        About <i class="fas" :class="activeSub === 'about' ? 'fa-minus' : 'fa-plus'"></i>
                    </button>
                    <div x-show="activeSub === 'about'" class="pl-4 bg-gray-50 text-xs">
                        <a href="#" class="block py-2">Aim</a>
                        <!-- Mobile Sub-level -->
                        <div>
                            <button @click="activeSubSub === 'vision' ? activeSubSub = null : activeSubSub = 'vision'" class="w-full flex justify-between items-center py-2">
                                Vision & Mission <i class="fas text-[10px]" :class="activeSubSub === 'vision' ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
                            </button>
                            <div x-show="activeSubSub === 'vision'" class="pl-4 border-l border-gray-200">
                                <a href="#" class="block py-2 text-brand-red">Project Digital Archiving</a>
                                <a href="#" class="block py-2 text-brand-red">Cultural Museum</a>
                            </div>
                        </div>
                    </div>
                </div>

                <a href="#" class="py-3 border-b border-gray-100">Who is Who</a>
                <a href="#" class="py-3 border-b border-gray-100">Administration</a>

                <!-- Mobile Activities -->
                <div class="border-b border-gray-100">
                    <button @click="activeSub === 'activities' ? activeSub = null : activeSub = 'activities'" class="w-full flex justify-between items-center py-3">
                        Activities <i class="fas" :class="activeSub === 'activities' ? 'fa-minus' : 'fa-plus'"></i>
                    </button>
                    <div x-show="activeSub === 'activities'" class="pl-4 bg-gray-50 text-xs">
                        <!-- Mobile Monthly -->
                        <div class="border-b border-gray-200">
                             <button @click="activeSubSub === 'monthly' ? activeSubSub = null : activeSubSub = 'monthly'" class="w-full flex justify-between items-center py-2">
                                Monthly Programs <i class="fas text-[10px]" :class="activeSubSub === 'monthly' ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
                            </button>
                             <div x-show="activeSubSub === 'monthly'" class="pl-4 pb-2 border-l border-gray-200">
                                <a href="#" class="block py-1">Samskrithi Samskarikolsavam</a>
                                <a href="#" class="block py-1">Kavya Saayahnam</a>
                                <a href="#" class="block py-1">Kadhavela</a>
                            </div>
                        </div>
                        <!-- Mobile Yearly -->
                         <div>
                             <button @click="activeSubSub === 'yearly' ? activeSubSub = null : activeSubSub = 'yearly'" class="w-full flex justify-between items-center py-2">
                                Yearly Programs <i class="fas text-[10px]" :class="activeSubSub === 'yearly' ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
                            </button>
                             <div x-show="activeSubSub === 'yearly'" class="pl-4 pb-2 border-l border-gray-200">
                                <a href="#" class="block py-1">Nadaka Kalari</a>
                                <a href="#" class="block py-1">Mambazhakkalam</a>
                                <a href="#" class="block py-1">Vyloppilly Anniversary</a>
                                <a href="#" class="block py-1">Sopana Sangeetholsavam</a>
                            </div>
                        </div>
                    </div>
                </div>

                <a href="#" class="py-3 border-b border-gray-100">Library</a>
                <a href="#" class="py-3 border-b border-gray-100">Gallery</a>
                <a href="#" class="py-3 border-b border-gray-100">Applications</a>
                <a href="#" class="py-3 border-b border-gray-100">Tenders</a>

                <!-- Mobile Facilities -->
                <div class="border-b border-gray-100">
                    <button @click="activeSub === 'facilities' ? activeSub = null : activeSub = 'facilities'" class="w-full flex justify-between items-center py-3">
                        Facilities <i class="fas" :class="activeSub === 'facilities' ? 'fa-minus' : 'fa-plus'"></i>
                    </button>
                    <div x-show="activeSub === 'facilities'" class="pl-4 bg-gray-50 text-xs">
                        <div class="border-b border-gray-200">
                            <button @click="activeSubSub === 'structure' ? activeSubSub = null : activeSubSub = 'structure'" class="w-full flex justify-between items-center py-2">
                                Structure of Complex <i class="fas text-[10px]" :class="activeSubSub === 'structure' ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
                            </button>
                            <div x-show="activeSubSub === 'structure'" class="pl-4 pb-2 border-l border-gray-200">
                                <a href="#" class="block py-1">Padippura</a>
                                <a href="#" class="block py-1">Koothambalam</a>
                                <a href="#" class="block py-1">Kalmandapam</a>
                                <a href="#" class="block py-1">Rakendu Auditorium</a>
                            </div>
                        </div>
                        <a href="#" class="block py-2">Rent of Venues</a>
                    </div>
                </div>

                <div class="border-b border-gray-100">
                    <button @click="activeSub === 'events' ? activeSub = null : activeSub = 'events'" class="w-full flex justify-between items-center py-3">
                        Events <i class="fas" :class="activeSub === 'events' ? 'fa-minus' : 'fa-plus'"></i>
                    </button>
                    <div x-show="activeSub === 'events'" class="pl-4 bg-gray-50 text-xs">
                         <a href="#" class="block py-2">Programmes</a>
                         <a href="#" class="block py-2">Publications</a>
                    </div>
                </div>

                <a href="#" class="py-3 border-b border-gray-100">RTI</a>
                <a href="#" class="py-3 border-b border-gray-100">Contact Us</a>
                
                <a href="#ai-planner" class="mt-4 block text-center py-3 bg-brand-red text-white rounded-lg font-bold">
                    <i class="fas fa-sparkles mr-2 text-brand-gold"></i> AI Planner & Booking
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative h-[80vh] min-h-[600px] flex items-center justify-center overflow-hidden">
        <!-- Background Image with Overlay -->
        <div class="absolute inset-0 z-0">
            <!-- Updated to Kathakali Image -->
            <img src="images/slider/d2/2.webp" alt="Kerala Kathakali Art Form" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"></div>
        </div>

        <div class="container mx-auto px-6 relative z-10 text-white">
            <div class="max-w-3xl">
                <div class="inline-block px-3 py-1 bg-brand-gold/20 border border-brand-gold/50 rounded-full text-brand-gold text-sm font-semibold mb-6 fade-in-up">
                    Preserving Heritage
                </div>
                <h1 class="text-5xl md:text-7xl font-serif font-bold leading-tight mb-6 fade-in-up delay-200">
                    The Heart of <br> <span class="text-brand-gold">Kerala Culture</span>
                </h1>
                <p class="text-lg md:text-xl text-gray-200 mb-8 max-w-2xl font-light fade-in-up delay-400">
                    Experience the vibrancy of art, tradition, and history at the Multi Purpose Cultural Complex.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 fade-in-up delay-400">
                    <button @click="bookingModalOpen = true; bookingVenue = 'Undecided'" class="px-8 py-3 bg-brand-red text-white font-medium rounded-full hover:bg-red-800 transition shadow-lg text-center">
                        Book a Venue
                    </button>
                    <a href="#ai-planner" class="px-8 py-3 bg-white/10 backdrop-blur-md border border-white/30 text-white font-medium rounded-full hover:bg-white hover:text-brand-red transition text-center">
                        Plan Event <i class="fas fa-sparkles ml-1 text-brand-gold"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-gray-50 to-transparent"></div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 relative overflow-hidden  bg-[url('images/designs/about-right1.png')] bg-no-repeat bg-contain bg-left">
        <div class="absolute top-0 right-0 w-1/3 h-full bg-brand-gold/5 rounded-l-full -z-10"></div>
        <div class="container mx-auto px-6">
            <div class="flex flex-col lg:flex-row items-center gap-16">
                <div class="lg:w-1/2">
                    <h4 class="text-brand-red font-bold uppercase tracking-wider text-sm mb-2">Who We Are</h4>
                    <h2 class="text-4xl md:text-5xl font-serif font-bold text-brand-dark mb-6">Preserving the <span class="relative inline-block">Legacy<span class="absolute bottom-1 left-0 w-full h-3 bg-brand-gold/30 -z-10"></span></span></h2>
                    <p class="text-gray-600 leading-relaxed mb-6">
                        Kerala is a narrow strip of land on the South West coast of India protected by natural boundaries and blessed with scenic beauty...
                    </p>
                    <a href="#" class="text-brand-red font-bold hover:underline">Read Full Story</a>
                </div>
                <div class="lg:w-1/2 relative">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="mt-8">
                            <!-- Kerala Architecture Image -->
                            <img src="images/designs/15-aspects-of-kerala-culture-cover1.jpg" alt="Kerala Architecture" class="rounded-2xl shadow-xl w-full h-64 object-cover transform hover:-translate-y-2 transition duration-500">
                        </div>
                        <div>
                            <!-- Traditional Lamp Image -->
                            <img src="images/slider/slide41.webp" alt="Kerala Traditional Lamp" class="rounded-2xl shadow-xl w-full h-64 object-cover transform hover:-translate-y-2 transition duration-500">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- TEAM CAROUSEL SECTION -->
    <section id="team" class="relative py-20 bg-fixed bg-cover bg-center" style="background-image: url('images/designs/background.webp');">
        <!-- Dark Overlay -->
        <div class="absolute inset-0 bg-black/60 z-0"></div>
        
        <div class="container mx-auto px-6 relative z-10" 
             x-data="{ 
                active: 0,
                interval: null,
                members: [
                    { name: 'Sri. Pinarayi Vijayan', role: 'Hon. Chief Minister of Kerala', img: 'images/top-officials/pinarayi-vijayan.jpg' },
                    { name: 'Sri. Saji Cherian', role: 'Hon. Minister for Cultural Affairs', img: 'images/top-officials/saji_cheriyan_minister.jpg' },
                    { name: 'Dr. Rajan N Khobragade', role: 'Principal Secretary', img: 'images/top-officials/rajan_ias.jpg' },
                    { name: 'Smt. Maya N. IFS', role: 'Director', img: 'images/top-officials/maya_director.jpg' },
                    { name: 'Sri. G.S. Pradeep', role: 'Vice Chairman', img: 'images/top-officials/gs_pradheep1.jpg' },
                    { name: 'Sri. P.S. Prasanth', role: 'Secretary', img: 'images/top-officials/maneksh_sec.jpg' }
                ],
                itemsPerScreen: 4,
                init() {
                    this.updateItemsPerScreen();
                    window.addEventListener('resize', () => this.updateItemsPerScreen());
                    this.autoplay();
                },
                updateItemsPerScreen() {
                    if (window.innerWidth < 768) this.itemsPerScreen = 1;
                    else if (window.innerWidth < 1024) this.itemsPerScreen = 2;
                    else this.itemsPerScreen = 4;
                },
                get maxIndex() {
                    return Math.max(0, this.members.length - this.itemsPerScreen);
                },
                next() {
                    if (this.active < this.maxIndex) this.active++;
                    else this.active = 0; // Loop back
                },
                prev() {
                    if (this.active > 0) this.active--;
                },
                autoplay() {
                    this.interval = setInterval(() => {
                        this.next();
                    }, 3000); // Auto scroll every 3 seconds
                },
                stopAutoplay() {
                    clearInterval(this.interval);
                }
             }"
             @mouseenter="stopAutoplay()"
             @mouseleave="autoplay()">
             
            <div class="flex justify-between items-center mb-12 text-white">
                <div>
                    <h4 class="text-brand-gold font-bold uppercase tracking-wider text-sm mb-2">Leadership</h4>
                    <h2 class="text-3xl md:text-4xl font-serif font-bold">Our <span class="text-brand-red">Team</span></h2>
                </div>
                <div class="flex gap-2">
                    <button @click="prev()" class="w-10 h-10 rounded-full border border-white/30 flex items-center justify-center hover:bg-brand-red hover:border-brand-red transition">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button @click="next()" class="w-10 h-10 rounded-full border border-white/30 flex items-center justify-center hover:bg-brand-red hover:border-brand-red transition">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <!-- Carousel Window -->
            <div class="overflow-hidden">
                <div class="flex transition-transform duration-500 ease-in-out" 
                     :style="`transform: translateX(-${active * (100 / itemsPerScreen)}%)`">
                    
                    <template x-for="member in members">
                        <div class="flex-shrink-0 px-3 w-full md:w-1/2 lg:w-1/4">
                            <div class="bg-brand-red shadow-2xl relative group h-[350px] flex flex-col items-center pt-8 border border-white/10 hover:border-brand-gold/50 transition duration-300">
                                <!-- Profile Image -->
                                <div class="w-40 h-40 rounded-full overflow-hidden border-4 border-white shadow-lg mb-6 relative z-10">
                                    <img :src="member.img" :alt="member.name" class="w-full h-full object-cover">
                                </div>
                                
                                <!-- Content Box at Bottom -->
                                <div class="mt-auto w-full bg-white/10 backdrop-blur-sm p-4 text-center border-t border-white/10 h-32 flex flex-col justify-center">
                                    <h3 class="text-white font-serif font-bold text-lg leading-tight mb-1" x-text="member.name"></h3>
                                    <p class="text-brand-gold text-xs uppercase tracking-widest font-medium" x-text="member.role"></p>
                                </div>
                            </div>
                        </div>
                    </template>

                </div>
            </div>

        </div>
    </section>

    <!-- Facilities Section -->
    <section id="facilities" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h4 class="text-brand-gold font-bold uppercase tracking-wider text-sm mb-2">Infrastructure</h4>
                <h2 class="text-4xl font-serif font-bold text-brand-dark">Our <span class="text-brand-red">Facilities</span></h2>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Facility 1: Padippura -->
                <div class="group bg-white rounded-2xl overflow-hidden shadow-lg border border-gray-100 hover:shadow-2xl transition duration-300">
                    <div class="img-zoom-container h-60 relative">
                        <img src="images/designs/padippura.jpg" alt="Padippura Structure" class="img-zoom w-full h-full object-cover">
                    </div>
                    <div class="p-8">
                        <h3 class="text-2xl font-serif font-bold text-brand-dark mb-4">Padippura</h3>
                        <p class="text-gray-600 text-sm mb-6">The principal gateway of the complex...</p>
                        <button @click="bookingModalOpen = true; bookingVenue = 'Padippura'" class="text-brand-red text-sm font-bold hover:underline">Book This Venue</button>
                    </div>
                </div>

                <!-- Facility 2: Koothambalam -->
                <div class="group bg-white rounded-2xl overflow-hidden shadow-lg border border-gray-100 hover:shadow-2xl transition duration-300 transform md:-translate-y-4">
                    <div class="img-zoom-container h-60 relative">
                        <img src="images/designs/koothambalam.jpg" alt="Koothambalam Theatre" class="img-zoom w-full h-full object-cover">
                    </div>
                    <div class="p-8">
                        <h3 class="text-2xl font-serif font-bold text-brand-dark mb-4">Koothambalam</h3>
                        <p class="text-gray-600 text-sm mb-6">Traditional dance theatre structure...</p>
                        <button @click="bookingModalOpen = true; bookingVenue = 'Koothambalam'; bookingType = 'Performing Arts'" class="text-brand-red text-sm font-bold hover:underline">Book This Venue</button>
                    </div>
                </div>

                <!-- Facility 3: Kalmandapam -->
                <div class="group bg-white rounded-2xl overflow-hidden shadow-lg border border-gray-100 hover:shadow-2xl transition duration-300">
                    <div class="img-zoom-container h-60 relative">
                        <img src="images/designs/kalmandapam.jpg" alt="Kalmandapam Stone Pavilion" class="img-zoom w-full h-full object-cover">
                    </div>
                    <div class="p-8">
                        <h3 class="text-2xl font-serif font-bold text-brand-dark mb-4">Kalmandapam</h3>
                        <p class="text-gray-600 text-sm mb-6">Granite floor performance space...</p>
                        <button @click="bookingModalOpen = true; bookingVenue = 'Kalmandapam'; bookingType = 'Performing Arts'" class="text-brand-red text-sm font-bold hover:underline">Book This Venue</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- GEMINI AI PLANNER SECTION -->
    <section id="ai-planner" class="py-24 bg-gray-50 border-t border-b border-gray-200 relative">
        <div class="container mx-auto px-6 relative z-10">
            <div class="flex flex-col md:flex-row items-stretch gap-12">
                <div class="md:w-1/2 flex flex-col justify-center">
                    <div class="mb-6">
                        <span class="text-brand-gold font-bold uppercase tracking-wider text-xs bg-brand-gold/10 px-3 py-1 rounded-full">Powered by Gemini AI ✨</span>
                    </div>
                    <h2 class="text-4xl font-serif font-bold text-brand-dark mb-4">Plan Your <span class="text-brand-red">Cultural Event</span></h2>
                    <p class="text-gray-600 mb-8 leading-relaxed">Not sure which venue fits your needs? Use our AI concierge...</p>
                    <div class="bg-white p-6 rounded-2xl shadow-xl border border-gray-100">
                        <textarea id="eventInput" rows="4" class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:outline-none" placeholder="Describe your event..."></textarea>
                        <div class="mt-4 flex justify-between items-center">
                            <button id="generateBtn" class="px-6 py-3 bg-brand-dark text-white font-medium rounded-full hover:bg-brand-red transition shadow-lg">✨ Plan My Event</button>
                        </div>
                    </div>
                </div>
                <div class="md:w-1/2 relative min-h-[400px]">
                     <!-- Loading State -->
                    <div id="loadingState" class="hidden absolute inset-0 bg-white/80 backdrop-blur-sm z-20 flex flex-col items-center justify-center rounded-2xl border border-gray-100 shadow-xl">
                        <div class="dot-flashing mb-4"></div>
                        <p class="text-brand-dark font-serif animate-pulse">Consulting the Cultural Archives...</p>
                    </div>

                    <!-- Empty State -->
                    <div id="emptyState" class="absolute inset-0 bg-white rounded-2xl shadow-xl border border-gray-100 flex flex-col items-center justify-center p-8 text-center">
                        <div class="w-20 h-20 bg-brand-red/10 rounded-full flex items-center justify-center mb-6">
                            <i class="fas fa-magic text-3xl text-brand-red"></i>
                        </div>
                        <h3 class="text-xl font-serif font-bold text-gray-800 mb-2">Your Plan Awaits</h3>
                        <p class="text-gray-500 text-sm">Enter your event details on the left to generate a personalized venue and theme recommendation.</p>
                    </div>

                    <!-- Result Card -->
                    <div id="resultCard" class="hidden h-full bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden flex flex-col">
                        <div class="bg-brand-red p-6 text-white relative overflow-hidden">
                            <div class="absolute right-0 top-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"></div>
                            <h3 class="text-2xl font-serif font-bold relative z-10">Our Recommendation</h3>
                            <div class="flex items-center mt-2 text-brand-gold text-sm font-medium">
                                <i class="fas fa-check-circle mr-2"></i>
                                <span id="venueName">Analysis Complete</span>
                            </div>
                        </div>
                        
                        <div class="p-6 overflow-y-auto custom-scrollbar flex-1 space-y-6">
                            
                            <!-- Reason Section -->
                            <div>
                                <h4 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2">Why this venue?</h4>
                                <p id="venueReason" class="text-gray-700 text-sm leading-relaxed border-l-2 border-brand-gold pl-4"></p>
                            </div>

                            <!-- Theme Section -->
                            <div class="bg-brand-light p-4 rounded-xl border border-gray-100">
                                <h4 class="text-xs font-bold text-brand-red uppercase tracking-widest mb-2"><i class="fas fa-fan mr-1"></i> Cultural Theme</h4>
                                <p id="themeSuggestion" class="text-gray-700 text-sm leading-relaxed italic font-serif"></p>
                                <div class="mt-3 pt-3 border-t border-gray-200">
                                    <p class="text-xs text-gray-500 font-bold">Special Touch:</p>
                                    <p id="culturalTouch" class="text-sm text-brand-dark"></p>
                                </div>
                            </div>

                            <!-- Email Draft -->
                            <div>
                                <div class="flex justify-between items-end mb-2">
                                    <h4 class="text-xs font-bold text-gray-400 uppercase tracking-widest">Draft Inquiry Email</h4>
                                    <button onclick="copyEmail()" class="text-xs text-brand-red hover:text-brand-dark font-medium"><i class="far fa-copy mr-1"></i> Copy</button>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 text-xs font-mono text-gray-600 relative group">
                                    <div class="mb-2 font-bold text-gray-800" id="emailSubject"></div>
                                    <div class="whitespace-pre-line" id="emailBody"></div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Latest Videos & Images Section -->
    <section class="py-20 bg-white relative overflow-hidden">
        <div class="container mx-auto px-6">
            <!-- Section Title -->
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-serif font-bold text-brand-red">
                    Latest <span class="text-brand-dark">Videos & Images</span>
                </h2>
                <div class="w-24 h-1 bg-brand-gold mx-auto mt-4 rounded-full"></div>
            </div>

            <div class="grid md:grid-cols-2 gap-8 lg:gap-12">
                
                <!-- Video Carousel -->
                <div x-data="{
                        activeVideo: 0,
                        isMuted: true,
                        videos: [
                            { id: 'kbV3049E5K8', title: 'Hemantham 22 Bharatanatyam performacne by N.Srikanth & Aswathi' },
                            { id: '0Cq7JdnrKh8', title: 'Hemantham 22 Bharatanatyam performacne by N.Srikanth & Aswathi' },
                            { id: '0Cq7JdnrKh8', title: 'Hemantham 22 Bharatanatyam performacne by N.Srikanth & Aswathi' }
                        ],
                        init() {
                            // Ensure embed URLs include the page origin. If opened via file://, suggest a local dev server.
                            const origin = (location && location.protocol === 'file:') ? 'http://localhost:8000' : (location && location.origin) || '';
                            this.videos.forEach(v => {
                                const o = origin ? ('&origin=' + encodeURIComponent(origin)) : '';
                                v.url = 'https://www.youtube.com/embed/' + v.id + '?enablejsapi=1&autoplay=1&mute=1&loop=1&playlist=' + v.id + o;
                            });
                        },
                        next() { this.activeVideo = (this.activeVideo + 1) % this.videos.length; this.isMuted = true; },
                        prev() { this.activeVideo = (this.activeVideo - 1 + this.videos.length) % this.videos.length; this.isMuted = true; },
                        toggleMute() {
                            this.isMuted = !this.isMuted;
                            const cmd = this.isMuted ? 'mute' : 'unMute';
                            // Use the expected postMessage shape for the YouTube iframe API
                            try {
                                this.$refs.videoFrame.contentWindow.postMessage(JSON.stringify({ event: 'command', func: cmd, args: [] }), '*');
                            } catch (e) {
                                console.warn('Could not postMessage to YouTube iframe yet', e);
                            }
                        }
                    }" x-init="init()" class="relative group rounded-2xl overflow-hidden shadow-xl bg-black">
                    
                    <!-- Video Frame -->
                    <div class="aspect-w-16 aspect-h-9 h-[300px] md:h-[400px]">
                        <iframe x-ref="videoFrame" :src="videos[activeVideo].url" 
                                title="YouTube video player" frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                allowfullscreen
                                class="w-full h-full"></iframe>
                    </div>

                    <!-- Mute Button -->
                    <button @click="toggleMute()" class="absolute top-4 right-4 z-20 w-10 h-10 bg-black/50 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-brand-red transition border border-white/30" title="Toggle Mute">
                        <i class="fas" :class="isMuted ? 'fa-volume-mute' : 'fa-volume-up'"></i>
                    </button>

                    <!-- Navigation Arrows (Overlay) -->
                    <button @click="prev()" class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-brand-red transition border border-white/30">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button @click="next()" class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-brand-red transition border border-white/30">
                        <i class="fas fa-chevron-right"></i>
                    </button>

                    <!-- Dots -->
                    <div class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2 pointer-events-none">
                        <template x-for="(video, index) in videos" :key="index">
                            <div class="w-2 h-2 rounded-full transition-all duration-300" 
                                 :class="activeVideo === index ? 'bg-brand-red w-6' : 'bg-white/50'"></div>
                        </template>
                    </div>
                </div>

                <!-- Image Carousel -->
                <div x-data="{
                        activeImage: 0,
                        images: [
                            'images/gallery/2025-11-28_154931.webp',
                            'images/gallery/2025-11-28_154952.webp',
                            'images/gallery/2025-11-28_155004.webp',
                            'images/gallery/2025-11-28_155020.webp',
                        ],
                        next() { this.activeImage = (this.activeImage + 1) % this.images.length },
                        prev() { this.activeImage = (this.activeImage - 1 + this.images.length) % this.images.length },
                        init() { setInterval(() => this.next(), 4000); }
                    }" class="relative group rounded-2xl overflow-hidden shadow-xl">
                    
                    <div class="relative h-[300px] md:h-[400px] w-full">
                        <template x-for="(img, index) in images">
                            <div x-show="activeImage === index" 
                                 x-transition:enter="transition transform duration-500 ease-out"
                                 x-transition:enter-start="opacity-0 scale-95"
                                 x-transition:enter-end="opacity-100 scale-100"
                                 x-transition:leave="transition transform duration-500 ease-in"
                                 x-transition:leave-start="opacity-100 scale-100"
                                 x-transition:leave-end="opacity-0 scale-105"
                                 class="absolute inset-0 w-full h-full">
                                <img :src="img" class="w-full h-full object-cover">
                            </div>
                        </template>
                    </div>

                    <!-- Navigation Dots (External Style) -->
                    <div class="absolute bottom-6 left-0 right-0 flex justify-center space-x-3">
                        <template x-for="(img, index) in images" :key="index">
                            <button @click="activeImage = index" 
                                    class="w-3 h-3 rounded-full transition-all duration-300 border border-white/50 shadow-sm"
                                    :class="activeImage === index ? 'bg-brand-red scale-125' : 'bg-white/80 hover:bg-white'">
                            </button>
                        </template>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-brand-dark text-white pt-16 pb-8 border-t-4 border-brand-red">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
                 <!-- Address -->
                 <div>
                    <!-- <div class="w-12 h-12 bg-brand-red rounded-lg flex items-center justify-center text-white font-serif font-bold text-xl mb-6">VS</div> -->
                    <p class="text-gray-400 text-sm leading-relaxed mb-6">
                        Vyloppilly Samskrithi Bhavan<br>
                        Department of Cultural Affairs,<br>
                        Government of Kerala<br>
                        Nalanda, Nanthancode,<br>
                        Thiruvananthapuram - 695003
                    </p>
                </div>
                <!-- Links (Keep existing structure) -->
            </div>
            <div class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-500">
                <p>&copy; 2025 Vyloppilly Samskrithi Bhavan. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- BOOKING MODAL -->
    <div x-show="bookingModalOpen" x-cloak 
         class="fixed inset-0 z-[100] overflow-y-auto" 
         aria-labelledby="modal-title" role="dialog" aria-modal="true">
        
        <!-- Backdrop -->
        <div x-show="bookingModalOpen" 
             x-transition:enter="ease-out duration-300"
             x-transition:enter-start="opacity-0"
             x-transition:enter-end="opacity-100"
             x-transition:leave="ease-in duration-200"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0"
             class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity" 
             @click="bookingModalOpen = false"></div>

        <div class="flex items-center justify-center min-h-screen p-4 text-center sm:p-0">
            <div x-show="bookingModalOpen" 
                 x-transition:enter="ease-out duration-300"
                 x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
                 x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
                 x-transition:leave="ease-in duration-200"
                 x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
                 x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
                 class="relative bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg w-full">
                
                <!-- Modal Header -->
                <div class="bg-brand-red px-6 py-4 flex justify-between items-center">
                    <h3 class="text-lg leading-6 font-serif font-bold text-white" id="modal-title">
                        <i class="fas fa-calendar-alt mr-2"></i> Book a Venue
                    </h3>
                    <button @click="bookingModalOpen = false" class="text-white hover:text-brand-gold focus:outline-none">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>

                <!-- Modal Body -->
                <div class="px-6 py-6" x-data="{ submitted: false }">
                    <form x-show="!submitted" @submit.prevent="submitted = true">
                        <div class="space-y-4">
                            <!-- Personal Details -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Full Name</label>
                                <input type="text" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-brand-red focus:ring-opacity-20 px-3 py-2 border">
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">Phone</label>
                                    <input type="tel" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-brand-red focus:ring-opacity-20 px-3 py-2 border">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">Email</label>
                                    <input type="email" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-brand-red focus:ring-opacity-20 px-3 py-2 border">
                                </div>
                            </div>

                            <!-- Event Details -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Event Type</label>
                                <select x-model="bookingType" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-brand-red focus:ring-opacity-20 px-3 py-2 border">
                                    <option>Performing Arts (Dance, Music, Theatre)</option>
                                    <option>Corporate / Cultural Seminar</option>
                                    <option>Private Function (Wedding, Reception)</option>
                                    <option>Media Production (Photoshoot/Filming)</option>
                                    <option>Other Event</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700">Select Venue</label>
                                <select x-model="bookingVenue" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-brand-red focus:ring-opacity-20 px-3 py-2 border">
                                    <option>Padippura</option>
                                    <option>Koothambalam</option>
                                    <option>Kalmandapam</option>
                                    <option>Rakendu Auditorium</option>
                                    <option>Undecided</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700">Preferred Date</label>
                                <input type="date" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-brand-red focus:ring-opacity-20 px-3 py-2 border">
                            </div>
                        </div>

                        <div class="mt-8 flex justify-end">
                            <button type="button" @click="bookingModalOpen = false" class="mr-3 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</button>
                            <button type="submit" class="px-6 py-2 bg-brand-red border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-red">
                                Send Inquiry
                            </button>
                        </div>
                    </form>

                    <!-- Success Message -->
                    <div x-show="submitted" class="text-center py-8">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-check text-2xl text-green-600"></i>
                        </div>
                        <h4 class="text-xl font-serif font-bold text-gray-900 mb-2">Request Sent!</h4>
                        <p class="text-sm text-gray-600 mb-6">Thank you for your interest. The administration department will contact you shortly to confirm availability.</p>
                        <button @click="bookingModalOpen = false; submitted = false" class="px-4 py-2 bg-gray-100 rounded-md text-gray-800 font-medium hover:bg-gray-200">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Gemini AI Script (Same as before) -->
    <script type="module">
        import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

        // Initialize Gemini
        const apiKey = ""; // API Key handled by runtime
        const genAI = new GoogleGenerativeAI(apiKey);
        const model = genAI.getGenerativeModel({ 
            model: "gemini-2.5-flash-preview-09-2025",
            generationConfig: { responseMimeType: "application/json" }
        });

        const generateBtn = document.getElementById('generateBtn');
        const eventInput = document.getElementById('eventInput');
        const emptyState = document.getElementById('emptyState');
        const loadingState = document.getElementById('loadingState');
        const resultCard = document.getElementById('resultCard');

        // Output fields
        const venueName = document.getElementById('venueName');
        const venueReason = document.getElementById('venueReason');
        const themeSuggestion = document.getElementById('themeSuggestion');
        const culturalTouch = document.getElementById('culturalTouch');
        const emailSubject = document.getElementById('emailSubject');
        const emailBody = document.getElementById('emailBody');

        generateBtn.addEventListener('click', async () => {
            const userQuery = eventInput.value.trim();
            if (!userQuery) return;

            // UI State: Loading
            emptyState.classList.add('hidden');
            resultCard.classList.add('hidden');
            loadingState.classList.remove('hidden');

            const prompt = `
                You are the Cultural Event Coordinator for Vyloppilly Samskrithi Bhavan in Kerala.
                
                Available Venues:
                1. Padippura: Traditional Gateway, great for small welcome events, photoshoots, or VIP greetings. Outdoor.
                2. Koothambalam: Traditional dance theatre, perfect for classical dance (Arangettam), Kathakali, musical concerts. Capacity ~300. Indoor/Semi-open.
                3. Kalmandapam: Granite floor pavillion with tiled roof. Ideal for martial arts (Kalaripayattu), folk arts, or intimate rituals. Open air.
                4. Main Hall: General purpose auditorium for seminars, large meetings. Capacity ~500.

                User Request: "${userQuery}"

                Task:
                1. Recommend the SINGLE best venue from the list above based on the user's description.
                2. Suggest a creative "Cultural Theme" (decor, flowers like Chethi/Thechi/Jasmine, lighting, food suggestions).
                3. Suggest a specific "Cultural Touch" (e.g., a specific welcome ritual, instrumental music like Edakka/Chenda).
                4. Write a professional draft inquiry email for the user to send to the Director.

                Respond in this JSON format:
                {
                    "recommended_venue": "Name of Venue",
                    "reason": "2 sentences explaining why this venue fits perfectly.",
                    "theme_suggestion": "Description of the visual and atmospheric theme.",
                    "cultural_touch": "One specific cultural element to add.",
                    "email_subject": "Subject line for email",
                    "email_body": "Body of the email"
                }
            `;

            try {
                const result = await model.generateContent(prompt);
                const response = result.response;
                const json = JSON.parse(response.text());

                // Update UI with Data
                venueName.textContent = json.recommended_venue;
                venueReason.textContent = json.reason;
                themeSuggestion.textContent = json.theme_suggestion;
                culturalTouch.textContent = json.cultural_touch;
                emailSubject.textContent = "Subject: " + json.email_subject;
                emailBody.textContent = json.email_body;

                // UI State: Success
                loadingState.classList.add('hidden');
                resultCard.classList.remove('hidden');

            } catch (error) {
                console.error("AI Error:", error);
                loadingState.classList.add('hidden');
                emptyState.classList.remove('hidden');
                alert("Sorry, we couldn't generate a plan right now. Please try again.");
            }
        });

        // Copy Email Function
        window.copyEmail = function() {
            const subject = document.getElementById('emailSubject').innerText;
            const body = document.getElementById('emailBody').innerText;
            const fullText = `${subject}\n\n${body}`;
            
            navigator.clipboard.writeText(fullText).then(() => {
                const btn = document.querySelector('button[onclick="copyEmail()"]');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check mr-1"></i> Copied';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            });
        };
    </script>
</body>
</html>